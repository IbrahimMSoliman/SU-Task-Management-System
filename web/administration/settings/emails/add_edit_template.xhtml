<?xml version='1.0' encoding='utf-8' ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/templates/window_template.xhtml">
    
    
    
    <ui:define name="PageTitle">Add/Edit Template</ui:define>
    
    <ui:define name="content">
        <p:card style="margin:10px;">
                <h:panelGrid columns="1"   id="in2"  width="100%" border="0" rowClasses="even,odd">
                    <p:outputLabel for="title" styleClass="bold" value="Template Title"/> 
                    <p:inputText autocomplete="off" converter="trim"  style="width:100%;" required="true" requiredMessage="Please enter the template title" value="#{email_templates.template_title}" id="title" maxlength="200" />
                     
                    <p:outputLabel for="content" styleClass="bold" value="Template Contents (As HTML)"/>  
                    <p:inputTextarea   required="true" requiredMessage="Please enter the template Content" value="#{email_templates.template_content}" id="content" style="width:100%;" rows="17"></p:inputTextarea>
                    
                    <h:outputText value="Email template should includes the following variables:"/>  
                    <ul>
                        <li><b>\#{subject}</b>: The email subject (<span style="color:red;font-weight: bold;">Optional</span>)</li>
                        <li><b>\#{message_body}</b>: The message contents (<span style="color:green;font-weight: bold;">Required</span>)</li>
                        <li><b>\#{email_date}</b>: Send Date (<span style="color:red;font-weight: bold;">Optional</span>)</li>
                        <li><b>\#{sender_name}</b>: The account used to send email message (<span style="color:red;font-weight: bold;">Optional</span>)</li>
                    </ul>
                 </h:panelGrid>
            
                <div class="center_button">
                    <p:commandButton value="Add" rendered="#{email_templates.process_type=='new'}"  ajax="true" update="@form" action="#{email_templates.save()}" icon="fa fa-w fa-plus" />
                    <p:commandButton rendered="#{email_templates.process_type=='update'}"  ajax="true" update="@form" value="Save" action="#{email_templates.save()}" icon="fa fa-w fa-save" />
                </div>
                 
        </p:card>  
                 
         </ui:define>
      </ui:composition>   
  
              