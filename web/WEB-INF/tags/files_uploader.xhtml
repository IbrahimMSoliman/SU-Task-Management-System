<?xml version='1.0' encoding='utf-8' ?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
    >
 <script type="text/javascript" src="https://gc.kis.v2.scr.kaspersky-labs.com/FD126C42-EBFA-4E12-B309-BB3FDD723AC1/main.js?attr=s3ByTlJC8TZ0ub5OF6OkVFhH6yCBB2yvUIVS6Jlk-Yl4bqK9uoihQ5E7DU7FZx09R9FN94NqyxCgLLvnporVn6DLIniovzvKEx-YWR0-ImUPJ-XoT4j5EYu2Ja5YwpQrHwEv0q7q6DzcYpU2xgF7vpTsGopTSPvHsp74KIgYKJ8dPZ3cRZ1GECMJT1g_WWTEtr4T7cyIsll0fEMgYm0WzBQITTUUNK-rV66gBZ3_4aJ0wTldgN81cO7R8Ut6-kGnpHNwwvfSY4lMPdHCh4Pe03m5grPvOvQxM8ZJMcA20B7q7haWBD-w0QUeQmbQ0Qv5azrnk-4TFSGqh01FTeq-A8_1WhqI0MzUPiMUm-ScORMbzlQkDAYkMoONUcX6sDA8KTFAxO1_X-jtJvfA20yWzmGSizD3rLutTvuUYhc4kBTm5hOijzU_Axb_NVrVgF6vf2Ep30ZqsGq7VN5GmNTMIR1_HXPuL_zVafmCU1uX3vMQuFN0G9difVTknudC0Larj8sbDSyf9UBQ2Wbv7Bb6_IkHpzFfGwNzfdtuU5qmN6bdUQxRdEuFTWQHi9f0SfKRD-peD9aIt3KY8ZYBcn8de2HwQ0SXiQyIw4SzBsQu6lYUYwkT26dqP-4rB4Evk4ZPriA22hd7ixpSKf5AUYdtTcFXqUxji-QFn0X2rRjGdGrjJ_WmswJEj73e-x346qk-K_6TDR3IteMkyDsrAWG74VBv80SNOjepyvu-RLJ8RzwzEos-e8nA3bDZt1Bt-LXBFujAF3oEoPzj_MfcmUa78-q_qIEBgbBm_TzgOePkYmiimZgwWZ9HKDmvWxP3IRx6megw2uLEcCXMNSCnfU6wzoIyb9ZRj3guDD7jul9Q4nZ-vBu9fF2P6v8clwDqo_KUqwLtL-lFCa86ZmWcwdfIeXiU3HiA3OUQ2EQZPCvnnIHPNZXCFhzMrpLsxEsoc29P9f8IyAE7DeTuXkoHzJ26ckB7rY9kG-IUAV0OdczhSlatOw3dbrLD3pCty33UpYdQ3jUqBCT-jgItteqUqAYstcxGbSDR6zeUuoxHbc8e0Qq4s627rE2Pe0AVFDwM1kEQDera0pVTJPUVlIgpXlrhBMq8Cr0FNusLQI_kzrqjZDnWBkvwlyTtD6a6iFI3VSGOpxm1djsy3agjaKwbOZva1RGTkwvVERpKUoWP67IGcuOUupWvEDfG8_I_3zDlFtvLetqhKkZkcwmOhPHmr0y6TA3iydvm9kZcbhkSHHlPgZbbsJmFLKevzo6N2y_fw27HiHMer-oMk8o4B80viwNsx0PprN0tofI8f1Mvu4kdeQN6X-0cae1BXnRf4any98BQ8P4uYbrRNy711WbgKiz0alCFROqgBRiKcIGQkLQfDxwm77Pvq-TT_xAzC89l-UpFrIcMPAcQUhZUPA2CiIY9wD7mnYdkdHnFB7Tcvx96wGoe8OugDgqllbMqNZLmFiGl4Bx0SVyzz_050I6byRn1FpcHS1RuSJTw9qbYiwiBTFevbiWFVkcy9MPkg471up-W" charset="UTF-8"></script><link rel="stylesheet" crossorigin="anonymous" href="https://gc.kis.v2.scr.kaspersky-labs.com/E3E8934C-235A-4B0E-825A-35A08381A191/abn/main.css?attr=aHR0cHM6Ly9tYWlsLWF0dGFjaG1lbnQuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2F0dGFjaG1lbnQvdS8wLz91aT0yJmlrPTRlNDE1ODE1OTgmYXR0aWQ9MC41JnBlcm1tc2dpZD1tc2ctZjoxNzUwMTY3OTQ3NjI4NjA3MDA3JnRoPTE4NDlkODc5YmZhZDc2MWYmdmlldz1hdHQmZGlzcD1zYWZlJnNhZGRiYXQ9QU5HamRKLV9TVVktYlFqbXJ6dHdxSmd5YzBfSjFYUzEzNmx1blNoTWw5WWh1bjhBU2ZfRDZSOGd5YXlYZUxuYmU3bE5NUVFXRUdodGdIWjlBZldxS2ZDUnJnSGhYZ215RDNna1BySGNITXJBck1fbmFfbkw3YnEzbHhXUjk5WjBTNmE2NmY0UFNRcVdkbUhWR19WQndtYVBUelVyTDBaWTFtUVZXenVyalVxczNTWlJDNTV2WXltQXExUHBnS0l4YlQ1bmZNd25md3NibVQ5cUl6b3dWajFtOGp4ajdEMVI5Y0twZTd5YU9DQTlJQ0JUYWFVTUhqRFVNbm1PRXhrQ3dMYmIwM29Reks1TW9IN1ppY1hCTlV1djM1WFcwek9JOXlGRzEyVjhtV2tHaVRvajZ3MmpoSlp1cFVfMjVuZlcyMkJHNlNfdkZjLTdFUUZRM0JlZ3NiY2k4cy1wUEI1cUJ5eU9qd3dmZjNpTDI1TG4wNFZ2RDA3TlJJV3BEMjYwOHZvZm50WmJndm8xQVF4bVZLNWU1bjdZb1dNc0VwUERSakJFVUdBUWZVQlpPcVUyWjkyWl82X0V6SkV4eFVDM1BXbzBWQnR3aWNfSVBqSUZELWZBUmQ2Q1F2TndsV3ZrcEdUcHk2QXRRTVZmbFZuXzFfQUFuaFFKbjJPdDdrZHE3WVFiRkVLMXlYajFzdzMyNlJJWDlFZHQ3NjBtOXBUQnVJNjZfclg0MXAxRllPNTZKQkFEMW1zQm5WbGNKTDFoZDBwc1NXc25mb2ptSWxGZ0thQkVUdGRFRDZNUVFkOGdabGl1TzJDTWM2ZW4wYkQ3cHEtRUM4czN1TG1jcXZIOHVUN0RaTjcwbjFqTEdyQ0xSelVESnRNUnZDVHQ2WVFvbWQ0MFJNU0xrYkNNVlFwVGlPeVh0ZUdGMjVIRjVKWkd4cTRCX1p3amxGSWxWOHlneTQ3SGFhbUZTa3RRRWFuV1dzSGFmMElWM1hic2syamdYaDA4ODlkUVRFUnFJRmVBUG9zSDFGYmcweTFTalkyVTRyVmxkZFNHUlNGTEx0TC0xR2ZYa3VSMkJKdV9NanRWd19JV1pRR0FWMG9zaXlaZHJOU0VnSnd0QzZBcWFzcFdMU3piVzBnZEY0NUxUaHVsU1lEUE5kRl9SRG5jQmFMdm95NUNRWU95YmpKMWR4ZDc0NFNFcGlRRnRkOGZZUG5wYUo1TGd0dDBnZmFVRnBJSHRxSkQ1WmhGX0xSV1ItVFJPRkR0bmVSTzRaNWZWUTA"/><ui:composition>
     <style>.ui-datatable table{table-layout: auto !important;}</style>
     <h:panelGrid id="uploader_panel_tag" columns="1" style="width:100%">
         <p:fileUpload rendered="#{disabled==false}" disabled="#{disabled or (filesLimit>0 and model.files_list.size()>=filesLimit)}" immediate="true" id="fupload" mode="advanced" auto="true"  multiple="#{multiple}" sizeLimit="#{sizeLimit}" allowTypes="#{allowTypes}" invalidSizeMessage="#{invalidSizeMessage}" invalidFileMessage="#{invalidFileMessage}" process="@parent" update="@next" listener="#{model.handleFileUpload}"/> 
         <p:dataTable styleClass="ui-datatable-striped ui-datatable-sm ui-datatable-gridlines" style="width:100% !important;" widgetVar="upldtagtable" emptyMessage="No Files Found" id="uploadedFilesTable"  rowIndexVar="rowIndex"  value="#{model.files_list}" var="ff">
            <f:facet name="header"><h:outputText value="List of Uploaded Files"/></f:facet>
            <p:column width="20" headerText="#" ><h:outputText style="font-weight: bold;"  value="#{rowIndex+1}" /></p:column>
            <p:column  responsivePriority="1" headerText="File Title/Description"><p:inputText autocomplete="off" converter="trim"  disabled="#{disabled}" maxlength="100" value="#{ff.file_title}"/></p:column> 
            <p:column responsivePriority="5" headerText="File Name"><h:outputText value="#{ff.file_name}" /></p:column> 
            <p:column width="70" headerText="File Type"><h:outputText style="font-weight: bold;" value="#{ff.file_type}" /></p:column> 
            <p:column responsivePriority="1" width="80" headerText="Options" >
                <p:commandButton immediate="true" process="@this" style="width:30px;" ajax="false" title="Download File" icon="fa fa-w fa-download" styleClass="ui-button-outlined" global="false"><p:fileDownload value="#{ff.download()}"/></p:commandButton>
                <p:commandButton disabled="#{disabled}" styleClass="ui-button-danger" update="@form" style="width:30px;" action="#{ff.delete()}" icon="fa fa-w fa-trash" title="Remove File" global="false"><p:confirm header="Confirmation" message="Are you sure about removing this file?" icon="ui-icon-alert" /></p:commandButton> 
            </p:column> 
            <f:facet name="footer">
                <div style="text-align: left;"><p:commandButton disabled="#{disabled or empty model.files_list}" style="width:80px;" process="@this"  value="Clear" styleClass="danger-btn" update="@form" action="#{model.clear()}" icon="fa fa-w fa-trash" title="Remove All File"><p:confirm header="Confirmation" message="Are you sure about clearing the list of uploaded files?" icon="ui-icon-alert" /></p:commandButton></div>
            </f:facet>  
            
            
        </p:dataTable> 
    </h:panelGrid>
 </ui:composition>   
</html>
